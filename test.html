<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>üì£ ‡πÅ‡∏à‡πâ‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- ‡∏ü‡∏≠‡∏ô‡∏ï‡πå Mitr -->
  <link href="https://fonts.googleapis.com/css2?family=Mitr:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Mitr', sans-serif;
    }
  </style>

  <!-- Feather Icons -->
  <script src="https://unpkg.com/feather-icons"></script>
  <!-- SweetAlert2 -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body class="bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center min-h-screen p-4">

  <form id="problemForm" class="bg-white p-8 rounded-2xl shadow-2xl max-w-xl w-full border border-blue-100">
    <h2 class="text-3xl font-bold mb-6 text-blue-700 flex items-center">
      üì£ ‡πÅ‡∏à‡πâ‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö
    </h2>

    <!-- ‡∏ä‡∏∑‡πà‡∏≠ -->
    <label class="block mb-1 font-medium">‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•</label>
    <input type="text" name="fullname" required class="w-full border border-gray-300 p-3 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-blue-400">

    <!-- ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô -->
    <label class="block mb-1 font-medium">‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô</label>
    <input type="text" name="nickname" required class="w-full border border-gray-300 p-3 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-blue-400">

    <!-- ‡∏ù‡πà‡∏≤‡∏¢ -->
    <label class="block mb-1 font-medium">‡∏ù‡πà‡∏≤‡∏¢</label>
    <input type="text" name="department" required class="w-full border border-gray-300 p-3 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-blue-400">

    <!-- ‡∏£‡∏∏‡πà‡∏ô -->
    <label class="block mb-1 font-medium">‡∏£‡∏∏‡πà‡∏ô</label>
    <input type="text" name="generation" required class="w-full border border-gray-300 p-3 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-blue-400">

    <!-- ‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô -->
    <label class="block mb-1 font-medium">‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</label>
    <input type="text" name="studentId" required class="w-full border border-gray-300 p-3 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-blue-400">

    <!-- ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á -->
    <label class="block mb-2 font-medium">‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</label>
    <div class="flex flex-wrap gap-3 mb-5">
      <!-- Instagram -->
      <button type="button" data-type="Instagram" class="contact-btn flex items-center border border-gray-300 px-5 py-3 rounded-xl text-lg gap-2 hover:bg-blue-50 transition w-full sm:w-auto justify-center">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="w-6 h-6">
          <defs>
            <linearGradient id="ig-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#feda75;stop-opacity:1" />
              <stop offset="50%" style="stop-color:#d62976;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#4f5bd5;stop-opacity:1" />
            </linearGradient>
          </defs>
          <path fill="url(#ig-gradient)" d="M224,202.66A53.34,53.34,0,1,0,277.34,256,53.38,53.38,0,0,0,224,202.66ZM398.8,80A48,48,0,0,0,368,49.2C347.9,48,269.5,48,224,48S100.1,48,80,49.2A48,48,0,0,0,49.2,80C48,100.1,48,178.5,48,224s0,123.9,1.2,144A48,48,0,0,0,80,398.8C100.1,400,178.5,400,224,400s123.9,0,144-1.2a48,48,0,0,0,30.8-30.8C400,347.9,400,269.5,400,224S400,100.1,398.8,80ZM224,338a82,82,0,1,1,82-82A82,82,0,0,1,224,338Zm85.4-148.6a19.2,19.2,0,1,1,19.2-19.2A19.2,19.2,0,0,1,309.4,189.4Z"/>
        </svg>
        Instagram
      </button>
      <!-- Facebook -->
      <button type="button" data-type="Facebook" class="contact-btn flex items-center border border-gray-300 px-5 py-3 rounded-xl text-lg gap-2 hover:bg-blue-50 transition w-full sm:w-auto justify-center">
        <i data-feather="facebook" class="w-6 h-6"></i> Facebook
      </button>
      <!-- Phone -->
      <button type="button" data-type="Phone" class="contact-btn flex items-center border border-gray-300 px-5 py-3 rounded-xl text-lg gap-2 hover:bg-blue-50 transition w-full sm:w-auto justify-center">
        <i data-feather="phone" class="w-6 h-6"></i> ‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå
      </button>
    </div>

    <!-- ‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ -->
    <input type="text" id="contactInput" class="w-full border border-gray-300 p-3 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-blue-400 hidden" placeholder="">

    <!-- ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏õ‡∏±‡∏ç‡∏´‡∏≤ -->
    <label class="block mb-1 font-medium">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏õ‡∏±‡∏ç‡∏´‡∏≤</label>
    <input type="text" name="topic" required class="w-full border border-gray-300 p-3 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-blue-400">

    <!-- ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î -->
    <label class="block mb-1 font-medium">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</label>
    <textarea name="details" required rows="4" class="w-full border border-gray-300 p-3 rounded-lg mb-6 focus:outline-none focus:ring-2 focus:ring-blue-400"></textarea>

    <button type="submit" class="bg-blue-500 text-white px-6 py-3 rounded-lg w-full text-lg font-semibold hover:bg-blue-600 transition">
      ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
    </button>
  </form>

<script>
  feather.replace();

  const form = document.getElementById("problemForm");
  const contactBtns = document.querySelectorAll(".contact-btn");
  const contactInput = document.getElementById("contactInput");

  let selectedType = "";
  const webhookUrl = "‡πÉ‡∏™‡πà‡∏•‡∏¥‡∏á‡∏Å‡πå-Google-Chat-Webhook-‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà";

  contactBtns.forEach(btn => {
    btn.addEventListener("click", () => {
      contactBtns.forEach(b => b.classList.remove("bg-blue-100", "border-blue-500", "text-blue-700"));
      btn.classList.add("bg-blue-100", "border-blue-500", "text-blue-700");
      selectedType = btn.dataset.type;
      contactInput.placeholder = `‡∏Å‡∏£‡∏≠‡∏Å${selectedType}‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì`;
      contactInput.classList.remove("hidden");
    });
  });

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    if (!selectedType) {
      Swal.fire({
        icon: 'warning',
        title: '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠'
      });
      return;
    }

    if (!contactInput.value.trim()) {
      Swal.fire({
        icon: 'warning',
        title: `‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å${selectedType}‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì`
      });
      return;
    }

    if (!form.checkValidity()) {
      form.reportValidity();
      return;
    }

    Swal.fire({
      title: '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...',
      allowOutsideClick: false,
      didOpen: () => Swal.showLoading()
    });

    const formData = new FormData(form);
    formData.set("contact", `${selectedType}: ${contactInput.value}`);
    const data = {};
    formData.forEach((value, key) => data[key] = value);

    const message = {
      text: `üì£ ‡πÅ‡∏à‡πâ‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö @BWNSC\n\nüë§ ‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•: ${data.fullname}\nüß∏ ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô: ${data.nickname}\nüè¢ ‡∏ù‡πà‡∏≤‡∏¢: ${data.department}\nüéì ‡∏£‡∏∏‡πà‡∏ô: ${data.generation}\nüÜî ‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô: ${data.studentId}\nüì± ‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠: ${data.contact}\nüß© ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ${data.topic}\nüìù ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î: ${data.details}\nüÜò‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô`
    };

    try {
      const res = await fetch(webhookUrl, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(message),
      });

      if (res.ok) {
        Swal.fire({
          icon: 'success',
          title: '‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à',
          text: '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö',
          confirmButtonText: '‡∏ï‡∏Å‡∏•‡∏á'
        });
        form.reset();
        contactInput.classList.add("hidden");
        selectedType = "";
        contactBtns.forEach(b => b.classList.remove("bg-blue-100", "border-blue-500", "text-blue-700"));
      } else {
        throw new Error();
      }
    } catch {
      Swal.fire({
        icon: 'error',
        title: '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î',
        text: '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ ‡πÇ‡∏õ‡∏£‡∏î‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á'
      });
    }
  });
</script>
</body>
</html>
